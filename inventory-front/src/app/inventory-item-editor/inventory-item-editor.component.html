//
<div class="bg-white rounded-lg p-6 shadow-md border border-gray-300 mt-6">
    <h3 class="text-xl font-bold text-gray-800 mb-4">Editar Compuesto</h3>

    <!-- Datos básicos -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
        <div>
            <label class="block font-semibold mb-1">Nombre</label>
            <input type="text" [(ngModel)]="compuesto.nombre" class="w-full border rounded px-3 py-2" />
        </div>
        <div>
            <label class="block font-semibold mb-1">Ubicación</label>
            <input type="text" [(ngModel)]="compuesto.ubicacion" class="w-full border rounded px-3 py-2" />
        </div>
        <div class="md:col-span-2">
            <label class="block font-semibold mb-1">Descripción</label>
            <textarea [(ngModel)]="compuesto.descripcion"
                class="w-full border rounded px-3 py-2 min-h-[80px]"></textarea>
        </div>
    </div>

    <!-- Componentes actuales -->
    <h4 class="text-lg font-semibold text-gray-700 mb-2">Componentes actuales</h4>
    <div *ngFor="let comp of compuesto.componentes" class="border rounded p-4 mb-3 bg-gray-50">
        <ng-container *ngIf="obtenerElementoSimple(comp.elementoId) as simple">
            <div class="flex justify-between items-center">
                <div>
                    <p><strong>{{ simple.nombre }}</strong> ({{ simple.tipo }})</p>
                    <p class="text-sm text-gray-500">Cantidad: {{ comp.cantidad }}</p>
                </div>
                <button (click)="eliminarComponente(comp.elementoId)"
                    class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm">
                    Eliminar
                </button>
            </div>

            <!-- Confirmación -->
            <div *ngIf="confirmacionEliminacion === comp.elementoId"
                class="mt-2 p-3 border border-red-300 bg-red-100 rounded-md text-sm">
                ¿Estás segura de que querés eliminar este componente?
                <div class="mt-2 flex gap-2">
                    <button (click)="confirmarEliminacion(comp.elementoId)"
                        class="px-3 py-1 bg-red-600 text-white rounded-md text-sm">Sí, eliminar</button>
                    <button (click)="cancelarEliminacion()"
                        class="px-3 py-1 bg-gray-400 text-white rounded-md text-sm">Cancelar</button>
                </div>
            </div>
        </ng-container>
    </div>

    <!-- Agregar nuevo componente -->
    <div class="mt-6">
        <label class="block font-semibold mb-1">Agregar componente existente</label>
        <div class="flex gap-4 items-center">
            <select [(ngModel)]="componenteParaAgregar" class="border rounded px-3 py-2 w-full max-w-md">
                <option value="" disabled selected>Seleccioná un elemento simple...</option>
                <option *ngFor="let simple of elementosSimplesDisponibles" [value]="simple.id">
                    {{ simple.nombre }} ({{ simple.tipo }})
                </option>
            </select>
            <button (click)="agregarComponente()"
                class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md">Agregar</button>
        </div>
    </div>

    <!-- Acciones -->
    <div class="flex justify-end gap-4 mt-8">
        <button (click)="cancelar.emit()" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-2 rounded-md">
            Cancelar
        </button>
        <button (click)="guardarCambios()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md">
            Guardar cambios
        </button>
    </div>
</div>